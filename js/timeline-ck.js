// set behavior of cards in timeline view
// Things to load after everything else has loaded
function showLazyImages(){$("img.lazy").lazyload({effect:"fadeIn",threshold:500,container:$("#view-area")});$("img.lazy").removeClass("lazy")}function do_scroll_math(){var e=$("#posts").height(),t=Math.abs($("#posts").position().top),n=e-t;console.log(n);if(n<=1e3&&workInProgress==="no"){workInProgress="yes";$(".endloader").css("bottom",0);$(".endloader").fadeTo("slow",1);var r="contr_get_extra_posts.php";$.post(r,function(e){$("#posts").append(e);$(".timeline").fadeTo("slow",1);$(document).scrollTop=n});workInProgress="no"}}$(window).load(function(){showLazyImages();$("#posts").waitForImages(function(){$(".loader").toggle();$(".timeline").fadeTo("slow",1)})});$(document).ready(function(){showLazyImages()});var workInProgress="no",do_scroll_it;$("#view-area").scroll(function(){clearTimeout(do_scroll_it);do_scroll_it=setTimeout(function(){do_scroll_math();showLazyImages()},100)});