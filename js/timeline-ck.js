// @codekit-append "_timeline.js" 
// @codekit-append "_menus.js" 
// @codekit-append "_interface.js"
/* **********************************************
     Begin _timeline.js
********************************************** */// set behavior of cards in timeline view
// Things to load after everything else has loaded
function showLazyImages(){$("img.lazy").lazyload({effect:"fadeIn",threshold:500,container:$("#view-area")});$("img.lazy").removeClass("lazy")}function do_scroll_math(){var e=$("#posts").height(),t=Math.abs($("#posts").position().top),n=e-t;console.log(n);if(n<=1e3&&workInProgress==="no"){workInProgress="yes";$(".endloader").css("bottom",0);$(".endloader").fadeTo("slow",1);var r="contr_get_extra_posts.php";$.post(r,function(e){$("#posts").append(e);$(".timeline").fadeTo("slow",1);$(document).scrollTop=n});workInProgress="no"}}var workInProgress="no",images={show:function(){showLazyImages();var e=$("#view-area").scrollTop();$("#view-area").scrollTop(e+1)}},posts={show:function(){$(".timeline").fadeTo("slow",1)},flow:function(){},hide:function(){}},do_scroll_it;$("#view-area").scroll(function(){clearTimeout(do_scroll_it);do_scroll_it=setTimeout(function(){do_scroll_math();showLazyImages()},100)});var closeMenus=function(){$("#show-about li").removeClass("selected");$("#show-search li").removeClass("selected");$("#show-login li").removeClass("selected");$("#left-col-wrapper.float_it").css("display","none");$("#left-col-wrapper").removeClass("float_it");$("#menu-about").hide();$("#menu-search").hide();$("#menu-login").hide()};$("#show-about li").click(function(){if($("#show-about li").hasClass("selected"))closeMenus();else{closeMenus();$("#show-about li").toggleClass("selected");$("#menu-about").toggle()}});$("#show-search li").click(function(){if($("#show-search li").hasClass("selected"))closeMenus();else{closeMenus();$("#show-search li").toggleClass("selected");$("#menu-search").toggle()}});var leftNav={toggle:function(){$("#left-col-wrapper").toggle();$("#hamburger").toggle()},hide:function(){$("#left-col-wrapper").css("display","none");$("#hamburger").css("display","block")},show:function(){$("#left-col-wrapper").css("display","block");$("#hamburger").css("display","none")},visible:function(){return $("#left-col-wrapper").css("display")==="block"?!0:!1},init:function(){$(window).width()>768?leftNav.show():leftNav.hide()}};$("#hamburger").on("click",function(){leftNav.show();posts.flow()});$(".leftNav-dismiss").on("click",function(){leftNav.hide();posts.flow()});var modal={hide:function(){$("#modal").css("display","none")},show:function(){$("#modal").css("display","block")},message:function(e){$("#modal-body").html("<p>"+e+"<p>");modal.show()}},viewArea={getDetails:function(){var e=$(window).outerWidth(),t=$("#left-col-wrapper").outerWidth(),n=$("#left-col-wrapper").css("display");this.width=n==="block"?e-t:e;this.height=$(window).outerHeight()-$(".mainbar-wrapper").outerHeight()}},windows={setSizes:function(){viewArea.getDetails();$("#view-area").css("height",viewArea.height);$("#left-col-wrapper").css("height",$(window).height())}};$(window).load(function(){windows.setSizes();leftNav.init();$("#view-area").css("-webkit-overflow-scrolling","touch");$(".loader").fadeTo("fast",0,function(){posts.flow();images.show();posts.show()})});$(window).resize(function(){windows.setSizes()});